<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <meta charset="utf-8">
        <title>IMJS Tests</title>
        <link rel="stylesheet" href="<%= mocha.css %>" type="text/css" media="screen"
              charset="utf-8">
        <!-- Dependencies -->
        <script src="<%= jquery %>"></script>
        <script src="<%= underscore %>"></script>
        <script src="<%= chai %>" type="text/javascript"></script>
        <script src="<%= mocha.js %>"></script>
    </head>
    <body>
        <!-- Browser Reporter Requires this Div -->
        <div id="mocha"></div>

        <!-- TODO: Make all this configurable, and build a version for jenkins --> 
        <!-- for local get from components, and do like this for jenkins -->
        <!-- Test Infrastructure -->
        <script>
        mocha.setup({globals: ['navigator', 'getInterface', 'expect', 'chai', 'intermine'], ui: 'bdd'});
        </script>

        <script>
            var expect = chai.expect;
        </script>

        <script>
            var service_args = {
                root: '<%= args.root %>',
                token: '<%= args.token %>'
            };
        </script>

        <script src="<%= imjs %>" type="text/javascript"></script>

        <!-- Tests -->
        <script src="acceptance.js"></script>
        <script>
            if (window.mochaPhantomJS) { mochaPhantomJS.run(); }
            else { mocha.run(); }
        </script>
    </body>
</html>

